const express = require('express');
const createAuramascaraServer = require('../server/');
const createBundle = require('./util').createBundle;
const serveBundle = require('./util').serveBundle;

//
// Dapp Server
//

const dappServer = express();

// serve dapp bundle
serveBundle(dappServer, '/app-bundle.js', createBundle(require.resolve('../app.js')));
dappServer.use(express.static(__dirname + '/../app/'));
// start the server
const dappPort = '9001';
dappServer.listen(dappPort);
console.log(`Dapp listening on port ${dappPort}`);
